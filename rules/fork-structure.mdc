---
description: Repository-specific fork details
alwaysApply: true
---

# Repository: kserve

## Fork Details

| Fork | Repository | Remote Name |
|------|------------|-------------|
| Upstream | kserve/kserve | `upstream` |
| ODH | opendatahub-io/kserve | `odh` |
| Downstream | red-hat-data-services/kserve | `downstream` |

## ODH Default Branch

`release-0.15` (tracks upstream releases)

## Reference Documentation

- Upstream contribution guide: `CONTRIBUTING.md`
- ODH docs: `docs/odh/`

---

# Detecting Target Fork

Before suggesting an environment or base branch, determine the target fork.

| Signal | Pattern | Target | Env |
|--------|---------|--------|-----|
| Branch | `RHOAIENG-*-odh-*` | ODH | CRC |
| Branch | `RHOAIENG-*` (no suffix) | Downstream | CRC |
| Branch | `rhoai-*`, `*-odh`, `odh-*` | ODH/Downstream | CRC |
| Branch | `master` | Upstream | Kind |
| Tracking | `upstream/*` | Upstream | Kind |
| Tracking | `odh/*` or `downstream/*` | ODH/Downstream | CRC |
| JIRA | `RHOAIENG-*` | ODH or Downstream | CRC |
| JIRA | `KSERVE-*` | Upstream | Kind |

Check tracking: `git rev-parse --abbrev-ref --symbolic-full-name @{u} 2>/dev/null`

If ambiguous, ask: "Which fork? (upstream/odh/downstream)"

---

# Fork Hierarchy

This project follows a three-tier fork hierarchy. Always consider this context when assisting with development tasks.

```
kserve/kserve (upstream)
    |
    v
opendatahub-io/kserve (ODH)
    |
    v
red-hat-data-services/kserve (downstream/RHOAI)
```

## Git Remote Naming Convention

When working with git commands or analyzing branches, expect these remote names:
- `upstream` -> kserve/kserve
- `odh` -> opendatahub-io/kserve
- `downstream` -> red-hat-data-services/kserve
- `origin` -> user's personal fork

## Branch Targeting Rules

When determining which branch to base work on:

| Change Type | Target Fork | Base Branch |
|-------------|-------------|-------------|
| Upstream feature/fix | upstream | `master` |
| ODH feature (latest) | odh | `release-0.15` or current release |
| ODH feature (older) | odh | `release-0.14`, etc. |
| Downstream-only change (latest) | downstream | `main` |
| Downstream-only change (older) | downstream | `rhoai-X.Y` |

### Branch Mapping Between Forks

| RHOAI Version | Upstream Branch | ODH Branch | Downstream Branch |
|---------------|-----------------|------------|-------------------|
| 3.x (latest)  | `master` | `release-0.15` | `main` |
| 2.x (stable)  | N/A | `release-0.14` | `rhoai-2.Y` |

### Cherry-Pick Flow

**Changes flow: Upstream -> ODH -> Downstream**

To get a fix into RHOAI:
1. If applicable, first merge to upstream (`kserve/kserve`)
2. Cherry-pick to ODH (`opendatahub-io/kserve`)
3. Cherry-pick to downstream (`red-hat-data-services/kserve`)

For ODH-specific changes (OpenShift integration, etc.), start at ODH.

## Code Sync Patterns

When syncing code between forks:
1. Upstream releases trigger ODH release branch updates
2. ODH release branches sync to downstream
3. Cherry-picks flow: Upstream -> ODH -> Downstream
